//不要把这个玩坏了 ©copyright 2014 積彧成疾
#include <iostream>
using namespace std;

double calculate(double v1, double v2, double(*method)(double x, double y))		//pointer to a function
{
	return method(v1, v2);
}
double add(double x, double y);													//fuck you, prototype 
double cut(double x, double y);
double times(double x, double y);
double divide(double x, double y);

void format();


int main()
{
	cout << "請輸入兩個數....\n";
	double x, y;
	cin >> x >> y;

	cout << "\b\b\b\b\b好吧..看下面 然後再選擇一次...\n"
		<< "A.加\tB.減\tC.乘\tD.除\tE.格式化硬盤(按'q'退出程序):\n";
	double sum = 2333333;															//:3 @刺蛇 
	char choice;
	cin >> choice;
	while (cin)
	{
		if (!(choice == 'Q' || choice == 'q'))
		{
			switch (choice)
			{
			case 'A':
			case 'a': sum = calculate(x, y, add);
				break;
			case 'B':
			case 'b': sum = calculate(x, y, cut);
				break;
			case 'C':
			case 'c': sum = calculate(x, y, times);
				break;
			case 'D':
			case 'd': sum = calculate(x, y, divide);
				break;
			case 'E':
			case 'e': format();
				break;
			default: cout << "你他媽選的什麼東西啊！\n";
			}
			cout << "Dahn,Dahn!\n"
				<< "計算結果是 " << sum << "!!\n";
			break;
		}
		else
		{
			cout << "Bye~\n";
			break;
		}
	}

	system("pause");
	return 0;
	
}

double add(double x, double y)
{
	return x + y;
}

double cut(double x, double y)
{
	return x - y;
}

double times(double x, double y)
{
	return x * y;
}

double divide(double x, double y)
{
	return x / y;
}
















void format()									//這不是一個函數！
{
	cout << "\a\a格式化中...請稍後\n";
	cout << "系統進度: (□系统文件 ■已格式化内容)";
	int limit = 500;
	for (int i = 0; i < limit; i++)
	{
		if (i == 16 || i == 35 || i == 39 || i == 45 || i == 71 || i == 235 || i == 239 || i == 298 || i == 400 || i == 411 || i == 460 || i == 499)
		{
			cout << "□";
		}
		else cout << "■";
	}
	cout << "\n格式化完成！請重啟電腦。\n\n";
}
